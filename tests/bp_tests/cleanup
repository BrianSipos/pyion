#!/bin/bash

# =====================================================================
# Clean up temporary files and old data generated by ION
#
# Parameters
# ----------
#
# Usage
# -----
# root@ion_node1: ./cleanup
#
# Author: Nicola Alesi
# Date:   01/08/2019
#
# =====================================================================

# Kill old ION
echo "Cleaning up old ION..."
killm

# Go to folder with nodes
cd nodes

# Remove folder with ion data
rm -f ion_nodes 

# Delete temporary files from folders
ls -l | egrep ^d | awk -F" " '{print $9}' | while read folder
    do
    rm -f "$folder"/ion.log "$folder"/*.stdout "$folder"/testfile* "$folder"/ltpblock.*
    done
    